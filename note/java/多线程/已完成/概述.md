 

**进程和线程的区别**

进程是操作系统资源分配和调度(存储空间，文件描述符等)的最小单位，线程是

进程中可以包含多个线程，多个线程之间共享进程的资源，每个线程有自己的线程栈等

 

**为什么要使用多线程，多线程的优势与风险**

优势：

- 提高吞吐量
- 提高响应性
- 充分利用多核的资源

风险：

- 线程安全问题，多线程共享数据时，没有正确控制并发访问，会造成数据的不一致性问题
- 线程活性问题由于程序或资源问题导致一些线程一直无法执行。如死锁，锁死，活锁，饥饿，一些线程总是能获得CPU执行权
- 上下文切换，CPU执行一个线程转换到执行另一个线程需要重新读取线程上下文
- 可靠性,一个线程可能导致JVM终止，其他线程无法执行

 

**并发与并行**

并行是多个任务同时执行(多核)，并发是多个任务一段时间内交替执行(单核)

 

**主线程和子线程**

JVM启动时会创建一个主线程执行main方法



**守护线程：** 

为其他线程服务的线程，不能当都运行，当JVM中没有其他线程时，守护线程会自动销毁



**IO密集型与计算密集型**

**计算密集型：**任务大多数时间需要来使用CPU做计算，这时候不适合频繁进行线程切换

**IO密集型：**对web服务来讲，大多数任务都是IO密集型的，如网络的IO，磁盘的IO，读写数据库和缓存等，这时候线程会进入阻塞态，这时后可以切换到另一个线程，提高CPU利用率，适合使用多线程。比如查询数据库的操作，它是IO密集型的，假设查询一次的时间是1ms，如果100个人同时查询数据库，就要100ms，而使用多线程屏蔽掉等待IO的时间，一个线程在提交查询后可以切换到另一个线程，这样等待的时候有提交了查询。



*top*



*sar*



*iostat*



*oprofile*



*vtune*